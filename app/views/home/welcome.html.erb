
<h4>最新熱門列表</h4>
<div id="glider-container-trending" slide-amount='0'>
  <div id="glider-pan-left"><span class="glyphicon glyphicon-chevron-left"></span></div>
  <div id="mix-window-wrapper">
    <% @trending_mixes_ary.each do |mix| %>
      <%= render 'mixes/mix', mix: mix %>
    <% end %>
  </div>
  <div id="glider-pan-right"><span class="glyphicon glyphicon-chevron-right"></span></div>
</div>
<div class="clear-both">

<% if user_logged_in? %>
  <h4>喜愛列表</h4>
  <div id="glider-container-favor" slide-amount='0'>
    <div id="glider-pan-left"><span class="glyphicon glyphicon-chevron-left"></span></div>
    <div id="mix-window-wrapper">
      <% @favorite_ary.each do |mix| %>
        <%= render 'mixes/mix', mix: mix %>
      <% end %>
    </div>
    <div id="glider-pan-right"><span class="glyphicon glyphicon-chevron-right"></span></div>
  </div>
<% end %>
<h4>熱門標籤</h4>
<tr>
<%= render 'shared/hot_tags' %>

<script type="text/javascript">
  // Glider left and right function start ------>
  var glide_container = $("#glider-container-trending");
  //var pan_left = glide_container.find("#glider-pan-left");
  $("#glider-pan-right").off('click');
  $("#glider-pan-right").on('click', function() {
    var slide_amount = glide_container.attr('slide-amount');
    var slide_amount_int = parseInt(slide_amount);
    if (slide_amount_int <= -1670) return;
    var slide_to = slide_amount_int - 835;
    console.log("Current slide amount: " + slide_amount);
    $("#mix-window-wrapper").animate({left: slide_to.toString()+'px'}, 300, 'swing');
    glide_container.attr('slide-amount', slide_to.toString());
  });
  $("#glider-pan-left").off('click');
  $("#glider-pan-left").on('click', function() {
    var slide_amount = glide_container.attr('slide-amount');
    var slide_amount_int = parseInt(slide_amount);
    if (slide_amount_int >= 0) { return; }
    var slide_to = slide_amount_int + 835;
    console.log("Current slide amount: " + slide_amount);
    $("#mix-window-wrapper").animate({left: slide_to.toString()+'px'}, 300, 'swing');
    glide_container.attr('slide-amount', slide_to.toString());
  });
  // Glider left and right function end <------
</script>
